@model IEnumerable<VisiProj.Models.ImagemProjetoModel>

@{
    ViewBag.Title = "Home";
    ViewBag.ActiveMenu = "Home";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container-fluid">
    <div class="row">
        <div id="gallery-home" class="col-xs-12 col-sm-6 col-md-6 col-lg-6" >
            @foreach (var obj in Model)
            {
                <a href="/projetos/@(obj.Projeto.CategoriaId)/projeto/@(obj.Projeto.Id)">
                    <img src="@obj.UrlMiniatura" alt="@obj.Projeto.Nome" class="img-responsive">
                    <div class="caption">
                        <span>@obj.Projeto.Nome</span>
                    </div>
                </a>
            }
        </div>
    </div>
</div>

@section javascripts
{
    <script>
        $(document).ready(function () {
            console.log("ready!");
            $(".container-fluid").hide();
            $(".container-fluid").fadeIn("slow");
            $("#gallery-home").justifiedGallery(
                {
                    randomize: true,
                    captions: true,
                    margins: 1,
                    rowHeight: 365,
                    maxRowHeight: 365,
                    fixedHeight: true,
                    lastRow: justify
                });
            //$("#gallery-home").justifiedGallery().on('jg.resize', function (e) {
            //    alert("resize");
            //});
        });
    </script>
}
